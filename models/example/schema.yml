version: 2

models:
    - name: regions
      tests:
        - dbt_expectations.expect_table_row_count_to_equal_other_table:
            compare_model: ref("country_codes")
        - dbt_expectations.expect_row_values_to_have_recent_data:
            datepart: day
            interval: 1
            column_name: created_at
      columns:
        - name: country_name
          tests:
            - dbt_expectations.expect_column_values_to_be_unique

    - name: my_first_dbt_model
      description: "A starter dbt model"
      columns:
          - name: id
            description: "The primary key for this table"
            tests:
                - unique
                - not_null

    - name: my_second_dbt_model
      description: "A starter dbt model"
      columns:
          - name: id
            description: "The primary key for this table"
            tests:
                - unique
                - not_null


